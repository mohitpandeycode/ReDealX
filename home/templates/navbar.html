{% load static %}
{% load custom_filters %}
<!-- start navbar -->
<div class="container-fluid nav-bar bg-transparent">
  <nav class="navbar navbar-expand-lg bg-white navbar-light py-0 px-4">
    <a href="/" class="navbar-brand d-flex align-items-center text-center" style="margin-left: -25px;">
      <div class="pl-2">
        <img class="img-fluid" src="{% static 'img/logo.png' %}" alt="Icon" style="width: 40px; height: 35px;" />
      </div>
      <h2 class="m-0 text-primary">
        <svg id="cJcJkSNHndS" viewBox="0 0 350 94.26550159015846" height="35" width="150" style="width: 150px; height: 35px;cursor: pointer; overflow: visible;">
          <defs id="SvgjsDefs1209"></defs>
          <g id="SvgjsG1210" featurekey="ZfhXLo-0" transform="matrix(4.836926947907657,0,0,4.836926947907657,-7.35213578784208,-25.53897529978009)" fill="#000000">
            <path d="M11.32 10.56 q0 0.66 -0.2 1.25 t-0.53 1.06 t-0.78 0.82 t-0.93 0.53 q1.04 0.38 1.54 1.84 l0.6 1.7 q0.34 1 1 1.48 q-0.3 0.4 -0.9 0.67 t-1.32 0.27 t-1.12 -0.41 t-0.74 -1.43 l-0.72 -2.1 q-0.22 -0.6 -0.59 -0.92 t-1.11 -0.32 l-0.82 0 l0 5 q-0.64 0.12 -1.6 0.12 t-1.58 -0.12 l0 -13.56 l0.14 -0.14 q1.74 -0.04 2.93 -0.06 t1.87 -0.02 q1.1 0 2 0.27 t1.53 0.81 t0.98 1.36 t0.35 1.9 z M4.7 8.62 l0 3.92 q0.9 0 1.54 -0.03 t1.03 -0.24 t0.59 -0.59 t0.2 -1.1 q0 -1.94 -1.88 -1.94 l-0.83 0 t-0.65 -0.02 z M20.96 16.02 l-5.22 0 q0.04 0.9 0.46 1.4 t1.38 0.5 q0.48 0 1.11 -0.14 t1.45 -0.46 q0.66 0.68 0.82 1.84 q-1.6 1.14 -3.92 1.14 q-1.26 0 -2.11 -0.4 t-1.38 -1.12 t-0.75 -1.7 t-0.22 -2.14 q0 -1.12 0.27 -2.07 t0.82 -1.65 t1.4 -1.1 t1.99 -0.4 q0.96 0 1.73 0.32 t1.31 0.88 t0.83 1.34 t0.29 1.7 q0 1.22 -0.26 2.06 z M15.72 13.86 l2.64 0 l0 -0.22 q0 -0.74 -0.33 -1.22 t-0.99 -0.48 q-0.64 0 -0.95 0.45 t-0.37 1.47 z M32.28 19.12 q-0.64 0.52 -1.68 0.76 t-2.3 0.24 q-0.62 0 -1.79 -0.02 t-2.93 -0.06 l-0.14 -0.14 l0 -13.46 l0.14 -0.14 q1.16 -0.04 2.41 -0.06 t2.63 -0.02 q1.7 0 2.84 0.54 t1.82 1.48 t0.96 2.21 t0.28 2.73 q0 2 -0.46 3.46 t-1.78 2.48 z M28.6 17.62 q2.64 0 2.64 -4.44 q0 -4.46 -2.64 -4.46 l-1.13 0 t-0.85 -0.02 l0 8.94 q0.36 -0.02 0.85 -0.02 l1.13 0 z M44.24000000000001 16.02 l-5.22 0 q0.04 0.9 0.46 1.4 t1.38 0.5 q0.48 0 1.11 -0.14 t1.45 -0.46 q0.66 0.68 0.82 1.84 q-1.6 1.14 -3.92 1.14 q-1.26 0 -2.11 -0.4 t-1.38 -1.12 t-0.75 -1.7 t-0.22 -2.14 q0 -1.12 0.27 -2.07 t0.82 -1.65 t1.4 -1.1 t1.99 -0.4 q0.96 0 1.73 0.32 t1.31 0.88 t0.83 1.34 t0.29 1.7 q0 1.22 -0.26 2.06 z M39.00000000000001 13.86 l2.64 0 l0 -0.22 q0 -0.74 -0.33 -1.22 t-0.99 -0.48 q-0.64 0 -0.95 0.45 t-0.37 1.47 z M54.88 18.56 q-0.1 0.42 -0.38 0.9 t-0.58 0.7 q-1.4 -0.04 -2.16 -1.06 q-1.3 1.2 -2.82 1.2 q-0.78 0 -1.36 -0.25 t-0.98 -0.67 t-0.6 -0.97 t-0.2 -1.15 q0 -0.86 0.31 -1.51 t0.85 -1.08 t1.26 -0.65 t1.54 -0.22 q0.46 0 0.81 0.01 t0.61 0.03 l0 -0.38 q0 -1.26 -1.3 -1.26 q-0.84 0 -2.94 0.64 q-0.6 -0.7 -0.76 -2.18 q0.48 -0.18 1.07 -0.34 t1.21 -0.28 t1.22 -0.19 t1.08 -0.07 q0.7 0 1.35 0.2 t1.14 0.61 t0.78 1.06 t0.29 1.55 l0 4.06 q0 0.92 0.56 1.3 z M48.84 17.06 q0 0.94 1.08 0.94 q0.56 0 1.26 -0.58 l0 -1.6 q-0.4 -0.02 -0.67 -0.03 t-0.41 -0.01 q-1.26 0 -1.26 1.28 z M60.56 17.72 l0.54 0 q0.24 0.66 0.24 1.32 t-0.06 0.86 q-1.2 0.2 -2.14 0.2 q-1.36 0 -1.93 -0.67 t-0.57 -2.11 l0 -11.9 l0.12 -0.14 l1.22 0 q0.94 0 1.32 0.42 t0.38 1.46 l0 9.62 q0 0.94 0.88 0.94 z M70.38 6.34 q0.5 -0.12 1.34 -0.12 q0.96 0 1.66 0.28 l0.08 0.14 l-3.76 6.18 l4.18 6.68 q-1.06 0.7 -1.9 0.7 q-0.88 0 -1.34 -0.28 t-0.92 -0.98 l-2.08 -3.36 l-2.62 4.42 q-0.5 0.12 -1.38 0.12 t-1.68 -0.28 l-0.08 -0.16 l4.12 -6.72 l-3.8 -6.12 q1.06 -0.7 1.9 -0.7 q0.88 0 1.33 0.28 t0.89 0.98 l1.76 2.84 z"></path>
          </g>
          <g id="SvgjsG1211" featurekey="PfFktW-0" transform="matrix(0.757084089520203,0,0,0.757084089520203,34.50032497744436,78.8511939762279)" fill="#000000">
            <path d="M5.88 5.48 c1.84 0 3.2 0.54006 4.08 1.6201 l-1.56 1.42 c-0.24 -0.37334 -0.58 -0.67334 -1.02 -0.9 s-0.94666 -0.34 -1.52 -0.34 c-0.82666 0 -1.49 0.20334 -1.99 0.61 s-0.75 0.93 -0.75 1.57 c0 1.0667 0.70666 1.8133 2.12 2.24 l1.78 0.58 c1 0.32 1.7633 0.76666 2.29 1.34 s0.79 1.36 0.79 2.36 c0 1.3067 -0.46334 2.3634 -1.39 3.17 s-2.1034 1.21 -3.53 1.21 c-2.04 0 -3.5466 -0.65334 -4.52 -1.96 l1.58 -1.36 c0.30666 0.48 0.72666 0.85334 1.26 1.12 s1.1133 0.4 1.74 0.4 c0.78666 0 1.4533 -0.22666 2 -0.68 s0.82 -1.0133 0.82 -1.68 c0 -0.49334 -0.16666 -0.90668 -0.5 -1.24 s-0.93334 -0.63334 -1.8 -0.9 l-1.26 -0.42 c-1.2667 -0.42666 -2.1534 -0.97 -2.66 -1.63 s-0.76 -1.51 -0.76 -2.55 c0 -1.1067 0.44666 -2.0466 1.34 -2.82 s2.0466 -1.16 3.46 -1.16 z M22.080000000000002 5.84 l0 1.8 l-7.22 0 l0 4.22 l6.72 0 l0 1.8 l-6.72 0 l0 4.54 l7.58 0 l0 1.8 l-9.5 0 l0 -14.16 l9.14 0 z M27.080000000000005 5.84 l0 12.36 l6.5 0 l0 1.8 l-8.42 0 l0 -14.16 l1.92 0 z M37.46000000000001 5.84 l0 12.36 l6.5 0 l0 1.8 l-8.42 0 l0 -14.16 l1.92 0 z M57.66000000000001 5.84 l6.06 14.16 l-2.24 0 l-1.42 -3.5 l-6.74 0 l-1.4 3.5 l-2.24 0 l6.24 -14.16 l1.74 0 z M54.000000000000014 14.82 l5.36 0 l-2.64 -6.5 l-0.04 0 z M68.08000000000001 5.84 l7.8 11.64 l0.04 0 l0 -11.64 l1.92 0 l0 14.16 l-2.44 0 l-7.88 -11.64 l-0.04 0 l0 11.64 l-1.92 0 l0 -14.16 l2.52 0 z M86.20000000000002 5.84 c1.5067 0 2.8134 0.31 3.92 0.93 s1.9533 1.47 2.54 2.55 s0.88 2.28 0.88 3.6 s-0.32666 2.5234 -0.98 3.61 s-1.5667 1.9367 -2.74 2.55 s-2.48 0.92 -3.92 0.92 l-4.74 0 l0 -14.16 l5.04 0 z M85.60000000000001 18.2 c1.08 0 2.07 -0.21002 2.97 -0.63002 s1.6133 -1.0233 2.14 -1.81 s0.79 -1.7333 0.79 -2.84 c0 -1.6 -0.49666 -2.88 -1.49 -3.84 s-2.31 -1.44 -3.95 -1.44 l-2.98 0 l0 10.56 l2.52 0 z M106.86000000000001 5.84 c1.2933 0 2.32 0.32 3.08 0.96 s1.14 1.5 1.14 2.58 c0 1.5333 -0.81334 2.5734 -2.44 3.12 l0 0.04 l0.02 0 c0.92 0.10666 1.6567 0.49 2.21 1.15 s0.83 1.45 0.83 2.37 c0 1.1867 -0.45666 2.14 -1.37 2.86 s-2.09 1.08 -3.53 1.08 l-4.94 0 l0 -14.16 l5 0 z M106.46000000000002 11.72 c0.8 0 1.43 -0.18334 1.89 -0.55 s0.69 -0.89 0.69 -1.57 c0 -0.64 -0.2 -1.1467 -0.6 -1.52 s-0.92666 -0.56 -1.58 -0.56 l-3.08 0 l0 4.2 l2.68 0 z M106.68000000000002 18.32 c0.94666 0 1.68 -0.22 2.2 -0.66 s0.78 -1.02 0.78 -1.74 c0 -0.8 -0.26334 -1.42 -0.79 -1.86 s-1.27 -0.66 -2.23 -0.66 l-2.86 0 l0 4.92 l2.9 0 z M116.12000000000002 5.84 l0 8.74 c0 1.16 0.32334 2.1134 0.97 2.86 s1.51 1.12 2.59 1.12 s1.9433 -0.37334 2.59 -1.12 s0.97 -1.7 0.97 -2.86 l0 -8.74 l1.92 0 l0 9.06 c0 0.97334 -0.23 1.8833 -0.69 2.73 s-1.1133 1.5133 -1.96 2 s-1.79 0.73 -2.83 0.73 c-1.6 0 -2.9134 -0.52334 -3.94 -1.57 s-1.54 -2.3434 -1.54 -3.89 l0 -9.06 l1.92 0 z M128.98000000000002 5.84 l3.86 6.22 l3.98 -6.22 l2.34 0 l-5.36 8.12 l0 6.04 l-1.92 0 l0 -6.04 l-5.36 -8.12 l2.46 0 z M151.42000000000002 5.84 c1.3733 0 2.4566 0.34 3.25 1.02 s1.19 1.66 1.19 2.94 c0 1.24 -0.39334 2.21 -1.18 2.91 s-1.8733 1.05 -3.26 1.05 l-3.16 0 l0 6.24 l-1.92 0 l0 -14.16 l5.08 0 z M150.86 12.08 c1 0 1.7433 -0.18336 2.23 -0.55002 s0.73 -0.94332 0.73 -1.73 c0 -1.52 -0.98666 -2.28 -2.96 -2.28 l-2.6 0 l0 4.56 l2.6 0 z M163.28 5.84 c1.3867 0 2.4734 0.34666 3.26 1.04 s1.18 1.6667 1.18 2.92 c0 0.94666 -0.32334 1.7733 -0.97 2.48 s-1.4767 1.1267 -2.49 1.26 l-0.02 0 l4.02 6.46 l-2.4 0 l-3.6 -6.24 l-2.14 0 l0 6.24 l-1.92 0 l0 -14.16 l5.08 0 z M162.72 12.08 c1 0 1.7433 -0.18336 2.23 -0.55002 s0.73 -0.94332 0.73 -1.73 c0 -1.52 -0.98666 -2.28 -2.96 -2.28 l-2.6 0 l0 4.56 l2.6 0 z M179.56 5.84 l0 1.8 l-7.22 0 l0 4.22 l6.72 0 l0 1.8 l-6.72 0 l0 4.54 l7.58 0 l0 1.8 l-9.5 0 l0 -14.16 l9.14 0 z M189.14 5.48 c2.1066 0 3.8634 0.69998 5.27 2.1 s2.11 3.18 2.11 5.34 c0 1.3733 -0.31334 2.63 -0.94 3.77 s-1.51 2.0366 -2.65 2.69 s-2.4034 0.98 -3.79 0.98 c-1.3733 0 -2.6266 -0.32334 -3.76 -0.97 s-2.02 -1.54 -2.66 -2.68 s-0.96 -2.4034 -0.96 -3.79 c0 -2.1066 0.69 -3.8734 2.07 -5.3 s3.15 -2.14 5.31 -2.14 z M183.79999999999998 12.92 c0 1.6 0.49998 2.94 1.5 4.02 s2.28 1.62 3.84 1.62 c1.5333 0 2.8066 -0.53334 3.82 -1.6 s1.52 -2.4134 1.52 -4.04 c0 -1.6133 -0.5 -2.9566 -1.5 -4.03 s-2.2866 -1.61 -3.86 -1.61 c-1.52 0 -2.7866 0.53334 -3.8 1.6 s-1.52 2.4134 -1.52 4.04 z M207.05999999999997 8.44 l-3.42 11.56 l-2.02 0 l-4.14 -14.16 l2 0 l3.12 11.32 l0.04 0 l3.34 -11.32 l2.2 0 l3.34 11.32 l0.04 0 l3.12 -11.32 l2 0 l-4.12 14.16 l-2.02 0 l-3.44 -11.56 l-0.04 0 z M221.04 5.84 l7.8 11.64 l0.04 0 l0 -11.64 l1.92 0 l0 14.16 l-2.44 0 l-7.88 -11.64 l-0.04 0 l0 11.64 l-1.92 0 l0 -14.16 l2.52 0 z M243.57999999999998 5.84 l0 1.8 l-7.22 0 l0 4.22 l6.72 0 l0 1.8 l-6.72 0 l0 4.54 l7.58 0 l0 1.8 l-9.5 0 l0 -14.16 l9.14 0 z M251.37999999999997 5.84 c1.5067 0 2.8134 0.31 3.92 0.93 s1.9533 1.47 2.54 2.55 s0.88 2.28 0.88 3.6 s-0.32666 2.5234 -0.98 3.61 s-1.5667 1.9367 -2.74 2.55 s-2.48 0.92 -3.92 0.92 l-4.74 0 l0 -14.16 l5.04 0 z M250.77999999999997 18.2 c1.08 0 2.07 -0.21002 2.97 -0.63002 s1.6133 -1.0233 2.14 -1.81 s0.79 -1.7333 0.79 -2.84 c0 -1.6 -0.49666 -2.88 -1.49 -3.84 s-2.31 -1.44 -3.95 -1.44 l-2.98 0 l0 10.56 l2.52 0 z M272.11999999999995 5.84 c1.3733 0 2.4566 0.34 3.25 1.02 s1.19 1.66 1.19 2.94 c0 1.24 -0.39334 2.21 -1.18 2.91 s-1.8733 1.05 -3.26 1.05 l-3.16 0 l0 6.24 l-1.92 0 l0 -14.16 l5.08 0 z M271.55999999999995 12.08 c1 0 1.7433 -0.18336 2.23 -0.55002 s0.73 -0.94332 0.73 -1.73 c0 -1.52 -0.98666 -2.28 -2.96 -2.28 l-2.6 0 l0 4.56 l2.6 0 z M283.97999999999996 5.84 c1.3867 0 2.4734 0.34666 3.26 1.04 s1.18 1.6667 1.18 2.92 c0 0.94666 -0.32334 1.7733 -0.97 2.48 s-1.4767 1.1267 -2.49 1.26 l-0.02 0 l4.02 6.46 l-2.4 0 l-3.6 -6.24 l-2.14 0 l0 6.24 l-1.92 0 l0 -14.16 l5.08 0 z M283.41999999999996 12.08 c1 0 1.7433 -0.18336 2.23 -0.55002 s0.73 -0.94332 0.73 -1.73 c0 -1.52 -0.98666 -2.28 -2.96 -2.28 l-2.6 0 l0 4.56 l2.6 0 z M297.62 5.48 c2.1066 0 3.8634 0.69998 5.27 2.1 s2.11 3.18 2.11 5.34 c0 1.3733 -0.31334 2.63 -0.94 3.77 s-1.51 2.0366 -2.65 2.69 s-2.4034 0.98 -3.79 0.98 c-1.3733 0 -2.6266 -0.32334 -3.76 -0.97 s-2.02 -1.54 -2.66 -2.68 s-0.96 -2.4034 -0.96 -3.79 c0 -2.1066 0.69 -3.8734 2.07 -5.3 s3.15 -2.14 5.31 -2.14 z M292.28000000000003 12.92 c0 1.6 0.49998 2.94 1.5 4.02 s2.28 1.62 3.84 1.62 c1.5333 0 2.8066 -0.53334 3.82 -1.6 s1.52 -2.4134 1.52 -4.04 c0 -1.6133 -0.5 -2.9566 -1.5 -4.03 s-2.2866 -1.61 -3.86 -1.61 c-1.52 0 -2.7866 0.53334 -3.8 1.6 s-1.52 2.4134 -1.52 4.04 z M312.48 5.84 c1.5067 0 2.8134 0.31 3.92 0.93 s1.9533 1.47 2.54 2.55 s0.88 2.28 0.88 3.6 s-0.32666 2.5234 -0.98 3.61 s-1.5667 1.9367 -2.74 2.55 s-2.48 0.92 -3.92 0.92 l-4.74 0 l0 -14.16 l5.04 0 z M311.88 18.2 c1.08 0 2.07 -0.21002 2.97 -0.63002 s1.6133 -1.0233 2.14 -1.81 s0.79 -1.7333 0.79 -2.84 c0 -1.6 -0.49666 -2.88 -1.49 -3.84 s-2.31 -1.44 -3.95 -1.44 l-2.98 0 l0 10.56 l2.52 0 z M324.24 5.84 l0 8.74 c0 1.16 0.32334 2.1134 0.97 2.86 s1.51 1.12 2.59 1.12 s1.9433 -0.37334 2.59 -1.12 s0.97 -1.7 0.97 -2.86 l0 -8.74 l1.92 0 l0 9.06 c0 0.97334 -0.23 1.8833 -0.69 2.73 s-1.1133 1.5133 -1.96 2 s-1.79 0.73 -2.83 0.73 c-1.6 0 -2.9134 -0.52334 -3.94 -1.57 s-1.54 -2.3434 -1.54 -3.89 l0 -9.06 l1.92 0 z M343.15999999999997 5.48 c1 0 1.9367 0.18664 2.81 0.55998 s1.59 0.92 2.15 1.64 l-1.6 1.22 c-0.86666 -1.08 -2.0066 -1.62 -3.42 -1.62 c-1.5333 0 -2.7966 0.54666 -3.79 1.64 s-1.49 2.4666 -1.49 4.12 c0 1.6 0.49 2.92 1.47 3.96 s2.25 1.56 3.81 1.56 s2.7934 -0.63334 3.7 -1.9 l1.62 1.22 c-0.56 0.74666 -1.3067 1.3467 -2.24 1.8 s-1.9733 0.68 -3.12 0.68 c-1.36 0 -2.5934 -0.33 -3.7 -0.99 s-1.98 -1.5667 -2.62 -2.72 s-0.96 -2.3634 -0.96 -3.63 c0 -2.1866 0.68666 -3.99 2.06 -5.41 s3.1466 -2.13 5.32 -2.13 z M360.17999999999995 5.84 l0 1.8 l-4.56 0 l0 12.36 l-1.92 0 l0 -12.36 l-4.56 0 l0 -1.8 l11.04 0 z M366.28 5.48 c1.84 0 3.2 0.54006 4.08 1.6201 l-1.56 1.42 c-0.24 -0.37334 -0.58 -0.67334 -1.02 -0.9 s-0.94666 -0.34 -1.52 -0.34 c-0.82666 0 -1.49 0.20334 -1.99 0.61 s-0.75 0.93 -0.75 1.57 c0 1.0667 0.70666 1.8133 2.12 2.24 l1.78 0.58 c1 0.32 1.7633 0.76666 2.29 1.34 s0.79 1.36 0.79 2.36 c0 1.3067 -0.46334 2.3634 -1.39 3.17 s-2.1034 1.21 -3.53 1.21 c-2.04 0 -3.5466 -0.65334 -4.52 -1.96 l1.58 -1.36 c0.30666 0.48 0.72666 0.85334 1.26 1.12 s1.1133 0.4 1.74 0.4 c0.78666 0 1.4533 -0.22666 2 -0.68 s0.82 -1.0133 0.82 -1.68 c0 -0.49334 -0.16666 -0.90668 -0.5 -1.24 s-0.93334 -0.63334 -1.8 -0.9 l-1.26 -0.42 c-1.2667 -0.42666 -2.1534 -0.97 -2.66 -1.63 s-0.76 -1.51 -0.76 -2.55 c0 -1.1067 0.44666 -2.0466 1.34 -2.82 s2.0466 -1.16 3.46 -1.16 z"></path>
          </g>
        </svg>
      </h2>
    </a>
    <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <div class="navbar-nav ms-auto">
        <a href="/" class="nav-item nav-link  me-4 {% if request.path == '/' %}active{% endif %}">Home</a>
        <a href="{% url 'allprod' %}" class="nav-item nav-link me-4 {% if request.path == '/allproducts/' %}active{% endif %}">Products</a>

        <!-- Button trigger signup login modal -->
        {% if not user.is_authenticated %}
          <a type="button" class="nav-item nav-link me-4" data-bs-toggle="modal" data-bs-target="#SignUp">SignUp</a>
          <a type="button" class="nav-item nav-link me-4" data-bs-toggle="modal" data-bs-target="#login">Login</a>
        {% else %}

        <!-- chat wishlist and notification system -->
          <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
            <ul class="navbar-nav d-flex align-items-center">
              <div id="error">
              </div>

              <div class="d-flex align-items-center justify-content-center gap-2">
                <a class="{% if request.path == '/wishlist/' %}active {% else %} text-muted{% endif %}" href="{% url 'wishlist' %}"><i class="far fa-heart icon navic p-2 wishlisst" style="border: none; font-size: 20px;"></i></a>
                <a href="{% url 'chats' %}" class="{% if request.path == '/chat/' %}active {% else %} text-muted{% endif %}"><i class="far fa-comment icon navic p-2" id="comment" style="border: none; font-size: 20px;"><p style="right:4px;" class="badgeic"></p></i></a>
                
                <div class="nav-item dropdown">
                  <i class="text-muted far fa-bell icon navic p-2 nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" style="border: none; font-size: 20px;margin-right: 0px;">{% if notifications %}<p class="badgeic"></p>{% endif %}</i>
                  <ul class="dropdown-menu notification-box p-1">
                    {% if notifications %}
                    {% for notification in notifications %}
                        <li class="notification-item" data-id="{{ notification.id }}" onclick="markAsRead(this)">
                            <a class="dropdown-item notify {% if notification.is_read %} text-muted {% endif %}" href="#">
                                <div class="notify-content">
                                    <img class="notification-icon" src="{% static 'img/notification.png' %}" alt="Notification Icon" />
                                    <div class="notify-text">
                                        <b>{{ notification.message|safe }}</b>
                                        <p class="notification-time">{{ notification.created_at|custom_timesince }}</p>
                                    </div>
                                </div>
                            </a>
                        </li>
                    {% endfor %}
                  {% else %}
                    <li>
                      <a class="dropdown-item notify" href="#">
                        <img style="opacity: 0.8;" class="mx-2" width="25px" height="28px" 
                             src="{% static 'img/notification.png' %}" alt="notify" />
                        No new notifications yet
                      </a>
                    </li>
                  {% endif %}
                  </ul>
                </div>
              </div>

<!-- user profile section -->
              <li class="nav-item dropdown">
                <button class="btn dropdown-toggle d-flex align-items-center" data-bs-toggle="dropdown" aria-expanded="false">
                  <img style="width: 40px; height: 40px; border-radius: 50%;" src="https://api.dicebear.com/8.x/bottts/svg?seed={{ request.user.first_name|slugify }}{{ request.user.id }}" alt="yourImage" />
                  <i class="mx-1 fas fa-chevron-down"></i>
                </button>
                <ul class="dropdown-menu p-2 dropdown-menu-light">
                  <li>
                    <p class="fs-5 dropdown-item">
                      <i class="fas fa-home pe-2"></i> Welcome <strong class="text-dark">{{ user.first_name }}</strong>
                    </p>
                  </li>
                  <hr />
                  <li>
                    <a class="dropdown-item" href="{% url 'profilePage' %}"><i class="fas fa-user pe-2"></i> View Profile</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="{% url 'adspage' %}"><i class="fas fa-list pe-2"></i> My Ads</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="{% url 'settings' %}"><i class="fas fa-cog pe-2"></i> Setting</a>
                  </li>
                  <hr class="m-0" />
                  <li>
                    <a class="dropdown-item text-danger" data-bs-toggle="modal" data-bs-target="#logout"><i class="fas fa-sign-out-alt pe-2"></i> Logout</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>

          <!-- Model logout -->

          <div class="modal fade" id="logout" tabindex="-1" aria-labelledby="logoutLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content" style="width: 90%; margin: auto;">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">Logout account</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  You are about to <b>Logout your account</b>. Are you sure about this?
                </div>
                <div class="modal-footer">
                  <div class="row w-100">
                    <div class="col-6">
                      <a href="{% url 'logout' %}" class="btn btn-dark border border-dark w-100">Log Out</a>
                    </div>
                    <div class="col-6">
                      <button type="button" class="btn btn-light border border-dark w-100" data-bs-dismiss="modal">Cancel</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- navbar for mobile screens -->
          <div class="nav-item navlink smallnav">
            <li>
              <p class="fs-5 mb-2 dropdown-item">
                <img style="width: 40px; height: 40px; border-radius: 50%;" src="https://api.dicebear.com/8.x/bottts/svg?seed={{ other_user.first_name|slugify }}{{ other_user.id }}
" alt="userImage" /> <strong class="text-dark">{{ user.first_name }}</strong>
              </p>
            </li>
            <hr class="m-1" />
            <li>
              <a class="dropdown-item" href="{% url 'profilePage' %}"><i class="fas fa-user pe-2"></i> View Profile</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'adspage' %}"><i class="fas fa-list pe-2"></i> My Ads</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'wishlist' %}"><i class="far fa-heart pe-2 wishlisst"></i> Wishlist</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'settings' %}"><i class="fas fa-cog pe-2"></i> Setting</a>
            </li>
            <hr class="m-2" />
            <li>
              <a href="{% url 'logout' %}" class="dropdown-item text-danger"><i class="fas fa-sign-out-alt pe-2"></i> Logout</a>
            </li>
          </div>
        {% endif %}

        <!-- login form Modal -->
        <div class="modal fade" id="login" tabindex="-1" aria-labelledby="loginLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                {% if messages %}
                  {{ message.tags }}
                  {% for message in messages %}
                    <h5 class="modal-title" style="color:#b700ff;font-size: 15px;">{{ message }}</h5>
                  {% endfor %}
                {% endif %}
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                {% include 'login.html' %}
              </div>
            </div>
          </div>
        </div>

        <!-- SignUp form model -->
        <div class="modal fade" id="SignUp" tabindex="-1" aria-labelledby="SignUpLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                {% if messages %}
                  {{ message.tags }}
                  {% for message in messages %}
                    <h5 class="modal-title" style="color:#b700ff;font-size: 15px;">{{ message }}</h5>
                  {% endfor %}
                {% endif %}
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                {% include 'signup.html' %}
              </div>
            </div>
          </div>
        </div>
      </div>
      <a href="{% url 'sellitem' %}" class="btn btn-primary gradient-btn px-3 d-none d-lg-flex"><i class="py-1 px-1 fas fa-plus"></i>Sell Item</a>
    </div>
  </nav>

  <!-- Search Start -->
  <div class="searchbox bg-primary mb-1 wow fadeIn" data-wow-delay="0.1s" style="padding: 5px;">
    <form method="get">
      <div class="p-0">
        <div class="row g-2">
          <div class="col-md-10">
            <div class="row g-2">
              <div class="col-4 col-lg-4">
                <input type="text" name="address" class="form-control py-2 border-0" placeholder="ðŸ” City, area or locality" />
              </div>
              <div class="col-8 col-lg-8">
                <input type="text" name="prod" id="searchInput" class="form-control py-2 border-0" placeholder="Search Products" />
              </div>
            </div>
          </div>
          <div class="col-md-2">
            <button type="submit" id="searchbtn" class="btn btn-dark py-2 border-0 w-100">Search</button>
          </div>
        </div>
      </div>
    </form>
  </div>
  <!-- Search End -->
</div>

<!-- Navbar End -->
<!-- alert meassage -->
{% if messages %}
  {{ message.tags }}
  {% for message in messages %}
    <div class="alert alert-{% if message.tags == 'error' %}danger{% endif %} alertmsg alert-dismissible fade show"role="alert">
      <i class="fa-solid fa-circle-info"></i> <strong>{{ message }}</strong>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    
  {% endfor %}
{% endif %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  function markAsRead(element) {
    let notificationId = $(element).data("id");

    $.ajax({
      url: "{% url 'mark_notification_as_read' %}",  // Change to your actual view URL
      type: "POST",
      data: {
        "notification_id": notificationId,
        "csrfmiddlewaretoken": "{{ csrf_token }}"  // Required for CSRF protection
      },
      success: function(response) {
        if (response.status === "success") {
          $(element).find(".notify").addClass("text-muted");
        }
      },
      error: function(xhr) {
        console.error("Error marking notification as read:", xhr);
      }
    });
  }
  const searchInput = document.getElementById('searchInput');
  const searchBtn = document.getElementById('searchbtn');
  
  function toggleButtonState() {
      const inputValue = searchInput.value.trim();
      searchBtn.type = inputValue.length === 0 ? 'reset' : 'submit';
  }
  
  searchInput.addEventListener('input', toggleButtonState);
  toggleButtonState();

 

</script>






<!-- end alert meassage -->
